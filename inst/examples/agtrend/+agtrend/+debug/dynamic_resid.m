function [lhs, rhs] = dynamic_resid(y, x, params, steady_state)
T = NaN(12, 1);
lhs = NaN(15, 1);
rhs = NaN(15, 1);
T(1) = exp(y(24))*y(2)^(1-params(9));
T(2) = (y(21)*y(22))^params(9);
T(3) = y(16)-params(14)*y(22)^params(15);
T(4) = T(3)^(-params(2));
T(5) = params(15)*(-params(14))*y(22)^(params(15)-1);
T(6) = params(6)/2;
T(7) = T(6)*(y(21)*y(17)/y(2)-params(1))^2;
T(8) = y(2)*T(7);
T(9) = T(6)*(y(36)*y(32)/y(17)-params(1));
T(10) = params(1)+y(36)*y(32)/y(17);
T(11) = 1-params(5)+(1-params(9))*y(33)/y(17)+T(9)*T(10);
T(12) = (T(8)+y(21)*y(17)-y(2)*(1-params(5)))/y(18);
lhs(1) = y(18);
rhs(1) = T(1)*T(2);
lhs(2) = y(24);
rhs(2) = params(10)*y(9)+params(11)*x(1);
lhs(3) = log(y(21));
rhs(3) = (1-params(3))*log(params(1))+params(3)*log(y(6))+params(4)*x(2);
lhs(4) = y(23);
rhs(4) = T(3)^(1-params(2))/(1-params(2));
lhs(5) = y(25);
rhs(5) = T(4);
lhs(6) = y(26);
rhs(6) = T(4)*T(5);
lhs(7) = y(27);
rhs(7) = params(13)*y(21)^(1-params(2));
lhs(8) = y(16)+y(21)*y(17);
rhs(8) = y(18)+y(2)*(1-params(5))-T(8)-y(4)+y(21)*y(20)*y(19);
lhs(9) = 1/y(20);
rhs(9) = 1+params(12)+params(7)*(exp(y(19)-params(8))-1);
lhs(10) = y(21)*y(25)*(1+params(6)*(y(21)*y(17)/y(2)-params(1)));
rhs(10) = y(27)*y(40)*T(11);
lhs(11) = y(26)+y(18)*params(9)*y(25)/y(22);
rhs(11) = 0;
lhs(12) = y(20)*y(21)*y(25);
rhs(12) = y(27)*y(40);
lhs(13) = y(29);
rhs(13) = (y(4)-y(21)*y(20)*y(19))/y(18);
lhs(14) = y(28);
rhs(14) = log(y(16)/y(18));
lhs(15) = y(30);
rhs(15) = log(T(12));
end
