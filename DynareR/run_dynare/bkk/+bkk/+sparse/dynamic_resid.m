function [residual, T_order, T] = dynamic_resid(y, x, params, steady_state, T_order, T)
if nargin < 6
    T_order = -1;
    T = NaN(52, 1);
end
[T_order, T] = bkk.sparse.dynamic_resid_tt(y, x, params, steady_state, T_order, T);
residual = NaN(42, 1);
    residual(1) = (y(53)) - (T(35)^((-1)/params(7)));
    residual(2) = (y(47)) - ((1-params(9))*y(5)+y(51));
    residual(3) = (y(49)) - (y(51)*params(10)+params(10)*y(9)+params(10)*y(37)+params(10)*y(36));
    residual(4) = (y(46)) - (y(45)+(1-params(3))*y(4));
    residual(5) = (y(44)) - (1-y(45)*params(2)-y(4)*params(3)*(1-params(2)));
    residual(6) = (T(5)*params(4)*params(11)/y(43)) - (y(65));
    residual(7) = ((-params(2))*T(5)*(1-params(4))*params(11)/y(44)) - (T(7)*T(6)*T(34));
    residual(8) = (params(10)*y(65)+params(10)*params(1)*y(107)+T(25)+T(26)-(1-params(9))*params(10)*params(1)*y(107)-(1-params(9))*T(25)-(1-params(9))*T(26)-(1-params(9))*params(10)*T(10)*y(110)) - (y(113));
    residual(9) = (y(65)) - (params(1)*y(107)*(1+T(11)*T(12)));
    residual(10) = (y(50)-1) - (params(12)*(y(8)-1)+params(25)*(y(19)-1)+x(1));
    residual(11) = (y(52)) - ((y(53)-(y(48)+y(49)+y(43)-y(6)))/y(53));
    residual(12) = (y(64)) - (T(40)^((-1)/params(19)));
    residual(13) = (y(58)) - ((1-params(21))*y(16)+y(62));
    residual(14) = (y(60)) - (y(62)*params(22)+params(22)*y(20)+params(22)*y(42)+params(22)*y(41));
    residual(15) = (y(57)) - (y(56)+(1-params(15))*y(15));
    residual(16) = (y(55)) - (1-y(56)*params(14)-y(15)*params(15)*(1-params(14)));
    residual(17) = (T(17)*params(16)*params(23)/y(54)) - (y(65));
    residual(18) = ((-params(14))*T(17)*(1-params(16))*params(23)/y(55)) - (T(19)*T(18)*T(39));
    residual(19) = (y(65)*params(22)+params(22)*y(107)*params(13)+T(28)+T(29)-(1-params(21))*params(22)*y(107)*params(13)-(1-params(21))*T(28)-(1-params(21))*T(29)-(1-params(21))*params(22)*T(22)*y(110)) - (y(116));
    residual(20) = (y(65)) - (y(107)*params(13)*(1+T(23)*T(24)));
    residual(21) = (y(61)-1) - ((y(19)-1)*params(24)+(y(8)-1)*params(26)+x(2));
    residual(22) = (y(63)) - ((y(64)-(y(59)+y(60)+y(54)-y(17)))/y(64));
    residual(23) = (y(59)+y(60)+y(48)+y(49)+y(43)-y(6)+y(54)-y(17)) - (y(53)+y(64));
    residual(24) = (y(66)) - (y(107));
    residual(25) = (y(67)) - (y(108));
    residual(26) = (y(68)) - (y(109));
    residual(27) = (y(69)) - (T(12)*T(46));
    residual(28) = (y(70)) - (y(111));
    residual(29) = (y(71)) - (y(112));
    residual(30) = (y(72)) - (T(24)*T(52));
    residual(31) = (y(73)) - (y(114));
    residual(32) = (y(74)) - (y(115));
    residual(33) = (y(75)) - (y(5));
    residual(34) = (y(76)) - (y(33));
    residual(35) = (y(77)) - (y(34));
    residual(36) = (y(78)) - (y(9));
    residual(37) = (y(79)) - (y(36));
    residual(38) = (y(80)) - (y(16));
    residual(39) = (y(81)) - (y(38));
    residual(40) = (y(82)) - (y(39));
    residual(41) = (y(83)) - (y(20));
    residual(42) = (y(84)) - (y(41));
end
